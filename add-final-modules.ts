import { db } from './server/db';
import { modules } from './shared/schema';

const finalModules = [
  {
    number: 251,
    name: "Модуль кассовых чеков (54-ФЗ)",
    description: "Интеграция с ОФД для автоматической печати и отправки чеков клиентам.",
    category: "ФИНТЕХ",
    keyFeatures: [
      "**Соответствие 54-ФЗ**: Автоматическая генерация фискальных чеков через ОФД.",
      "**Интеграция с эквайрингом**: Связка с платежными системами для мгновенных чеков.",
      "**Отправка чеков клиентам**: Email или SMS доставка чеков после покупки.",
      "**Архив операций**: Хранение всех чеков с возможностью повторной отправки.",
      "**Отчетность для ФНС**: Автоматическая передача данных в налоговую службу."
    ],
    benefits: "Соблюдение требований законодательства, автоматизация отчетности на 100%",
    icon: "Receipt"
  },
  {
    number: 252,
    name: "Интеграция с 1С",
    description: "Двусторонняя синхронизация данных с популярными конфигурациями 1С.",
    category: "ИНТЕГРАЦИИ",
    keyFeatures: [
      "**Синхронизация товаров**: Автоматическая выгрузка номенклатуры из 1С в каталог.",
      "**Передача заказов**: Автоматическое создание документов продаж в 1С.",
      "**Контроль остатков**: Синхронизация складских остатков в реальном времени.",
      "**Клиентская база**: Обмен контактными данными и историей покупок.",
      "**Финансовая отчетность**: Интеграция оборотов и платежей для управленческого учета."
    ],
    benefits: "Исключение дублирования ввода данных, единая система учета",
    icon: "Database"
  },
  {
    number: 253,
    name: "Конструктор лендингов",
    description: "Создание продающих посадочных страниц без навыков программирования.",
    category: "МАРКЕТИНГ",
    keyFeatures: [
      "**Drag & Drop редактор**: Интуитивное создание страниц перетаскиванием блоков.",
      "**Готовые шаблоны**: Библиотека проверенных макетов для разных ниш.",
      "**A/B тестирование**: Сравнение эффективности разных версий страниц.",
      "**Аналитика конверсии**: Отслеживание воронки от посещения до покупки.",
      "**Мобильная адаптация**: Автоматическая оптимизация под все устройства."
    ],
    benefits: "Увеличение конверсии лендингов на 40%, экономия на дизайнерах",
    icon: "Layout"
  },
  {
    number: 254,
    name: "Модуль бронирования столиков",
    description: "Система онлайн-резервирования для ресторанов и кафе.",
    category: "БРОНИРОВАНИЕ",
    keyFeatures: [
      "**Интерактивная схема зала**: Визуальный выбор столика на плане заведения.",
      "**Календарь бронирований**: Управление свободными слотами по дням и времени.",
      "**Депозитная система**: Предоплата за бронирование для гарантии явки.",
      "**Автоматические напоминания**: SMS и Telegram уведомления перед визитом.",
      "**Интеграция с POS**: Привязка брони к счету и автоматическое закрытие."
    ],
    benefits: "Снижение no-show на 60%, оптимизация загрузки зала на 25%",
    icon: "Calendar"
  },
  {
    number: 255,
    name: "Система предзаказов",
    description: "Возможность заказать товары, которых пока нет в наличии.",
    category: "E-COMMERCE",
    keyFeatures: [
      "**Листы ожидания**: Очередь на популярные товары с автоматическими уведомлениями.",
      "**Предоплата за предзаказ**: Фиксация цены и приоритета получения товара.",
      "**Прогнозирование поставок**: AI-анализ спроса для планирования закупок.",
      "**Уведомления о поступлении**: Автоматические извещения при появлении товара.",
      "**Групповые закупки**: Скидки при достижении минимального количества предзаказов."
    ],
    benefits: "Увеличение продаж на 20%, снижение упущенной выгоды от дефицита",
    icon: "Package"
  },
  {
    number: 256,
    name: "Модуль подписок и рекуррентных платежей",
    description: "Автоматическое списание средств за регулярные услуги.",
    category: "ФИНТЕХ",
    keyFeatures: [
      "**Гибкие тарифные планы**: Недельные, месячные, годовые подписки с разными условиями.",
      "**Автоматическое продление**: Списание средств без участия клиента.",
      "**Уведомления об оплате**: Предупреждения о списании и неудачных попытках.",
      "**Пробные периоды**: Free trial с автопереходом на платную подписку.",
      "**Управление подписками**: Интерфейс для клиентов по изменению тарифов."
    ],
    benefits: "Увеличение LTV клиентов на 3x, стабильный ежемесячный доход",
    icon: "RefreshCw"
  },
  {
    number: 257,
    name: "Система многоуровневых комиссий",
    description: "MLM и партнерская программа с многоуровневой структурой вознаграждений.",
    category: "ДОПОЛНИТЕЛЬНЫЕ СЕРВИСЫ",
    keyFeatures: [
      "**Генеалогическое дерево**: Визуализация структуры партнерской сети.",
      "**Автоматический расчет комиссий**: Начисление % с продаж по всем уровням.",
      "**Квалификационные ранги**: Система статусов с дополнительными бонусами.",
      "**Личный кабинет партнера**: Статистика, выплаты, маркетинговые материалы.",
      "**Реинвестирование комиссий**: Возможность направления заработка на покупки."
    ],
    benefits: "Вирусный рост клиентской базы на 300%, снижение затрат на рекламу",
    icon: "Users"
  },
  {
    number: 258,
    name: "Чат-бот администратор",
    description: "AI-помощник для автоматизации рутинных задач администратора.",
    category: "AI И АВТОМАТИЗАЦИЯ",
    keyFeatures: [
      "**Обработка заказов**: Автоматическое изменение статусов и уведомление клиентов.",
      "**FAQ автоответчик**: Моментальные ответы на часто задаваемые вопросы.",
      "**Модерация контента**: Автоматическая проверка отзывов и комментариев.",
      "**Планировщик задач**: Напоминания и автоматическое выполнение рутины.",
      "**Аналитические отчеты**: Еженедельные сводки по ключевым метрикам."
    ],
    benefits: "Экономия 20 часов в неделю на рутинных задачах",
    icon: "Bot"
  },
  {
    number: 259,
    name: "Модуль белой маркировки",
    description: "Возможность полностью кастомизировать брендинг под свой бизнес.",
    category: "ДОПОЛНИТЕЛЬНЫЕ СЕРВИСЫ",
    keyFeatures: [
      "**Замена логотипов**: Полная смена визуальной идентичности на собственную.",
      "**Кастомные домены**: Подключение собственных доменных имен.",
      "**Цветовые схемы**: Адаптация палитры под фирменный стиль компании.",
      "**Удаление упоминаний**: Скрытие всех ссылок на исходную платформу.",
      "**Персонализированная документация**: Инструкции под вашим брендом."
    ],
    benefits: "Укрепление бренда, увеличение доверия клиентов на 40%",
    icon: "Palette"
  },
  {
    number: 260,
    name: "Система электронного документооборота",
    description: "Полная цифровизация документооборота с электронной подписью.",
    category: "B2B",
    keyFeatures: [
      "**Электронная подпись**: Интеграция с КЭП для юридически значимых документов.",
      "**Шаблоны документов**: Готовые формы договоров, актов, счетов.",
      "**Автоматические маршруты**: Настройка цепочек согласования документов.",
      "**Архив документов**: Централизованное хранение с быстрым поиском.",
      "**Интеграция с ЭДО**: Обмен документами через операторов электронного документооборота."
    ],
    benefits: "Ускорение согласования документов в 5 раз, экономия на печати и курьерах",
    icon: "FileSignature"
  }
];

async function addFinalModules() {
  try {
    console.log('🔄 Добавление финальных модулей...');
    
    for (const moduleData of finalModules) {
      await db.insert(modules).values(moduleData).onConflictDoNothing();
      console.log(`✅ Модуль ${moduleData.number}: ${moduleData.name}`);
    }
    
    console.log('🎉 Все финальные модули добавлены!');
    process.exit(0);
  } catch (error) {
    console.error('❌ Ошибка при добавлении модулей:', error);
    process.exit(1);
  }
}

addFinalModules();