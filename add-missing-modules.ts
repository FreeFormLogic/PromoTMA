import { db } from './server/db';
import { modules } from './shared/schema';

const newModules = [
  {
    number: 236,
    name: "Управление медицинской клиникой",
    description: "Специализированное решение для медучреждений с электронными медкартами и расписанием врачей.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Электронные медицинские карты (EMR)**: Полная история болезни, анализов и назначений пациента.",
      "**Онлайн-запись к врачам**: Управление расписанием специалистов, кабинетов и оборудования.",
      "**Интеграция с лабораториями**: Автоматическое получение результатов анализов в карту пациента.",
      "**Телемедицинские консультации**: Встроенный модуль для проведения видео-консультаций.",
      "**Учет медикаментов и расходников**: Контроль остатков и автоматизация закупок."
    ],
    benefits: "Оптимизация загрузки врачей на 40%, сокращение очередей на 30%",
    icon: "Stethoscope"
  },
  {
    number: 237,
    name: "Управление фитнес-клубом",
    description: "Автоматизация спортивных центров: управление абонементами, расписание и персональный трекинг.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Управление абонементами**: Продажа, заморозка, продление и автоматическое списание платежей.",
      "**Расписание групповых занятий**: Онлайн-запись для клиентов с лимитом мест.",
      "**Персональные тренировки**: Ведение базы клиентов для тренеров, отслеживание прогресса.",
      "**Контроль доступа**: Интеграция с турникетами по QR-коду из приложения.",
      "**Продажа доп. услуг**: Встроенный магазин спортивного питания и товаров."
    ],
    benefits: "Увеличение продления абонементов на 25%, рост продаж доп. услуг на 40%",
    icon: "Dumbbell"
  },
  {
    number: 238,
    name: "Управление салоном красоты",
    description: "Комплексная система для beauty-индустрии с онлайн-записью, учетом материалов и портфолио.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Онлайн-запись к мастерам**: Календарь с расписанием, услугами и автоматическими напоминаниями.",
      "**Учет расходных материалов**: Автоматическое списание косметики и материалов по тех. картам.",
      "**Портфолио мастеров**: Галерея работ с привязкой к конкретным услугам и отзывам.",
      "**Программы лояльности**: Накопительные скидки, бонусы и подарочные сертификаты.",
      "**История визитов клиента**: Сохранение предпочтений, формул окрашивания и оказанных услуг."
    ],
    benefits: "Увеличение повторных записей на 50%, рост среднего чека на 35%",
    icon: "Scissors"
  },
  {
    number: 239,
    name: "Управление отелем",
    description: "Система для гостиничного бизнеса с модулем бронирования и интеграцией с Channel Manager.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Шахматка номеров**: Визуальное управление бронированиями, заездами и выездами.",
      "**Channel Manager**: Синхронизация доступности и цен с Booking.com, Expedia, Ostrovok.",
      "**Управление уборкой (Housekeeping)**: Статусы номеров и назначение задач для горничных.",
      "**Продажа доп. услуг**: Заказ трансфера, экскурсий, еды в номер через приложение.",
      "**Интеграция с POS-системами**: Единый счет для гостя за проживание и услуги ресторана."
    ],
    benefits: "Увеличение прямой загрузки номеров на 25%, рост RevPAR на 20%",
    icon: "Hotel"
  },
  {
    number: 240,
    name: "Управление автосервисом",
    description: "Автоматизация СТО с ведением истории ремонтов, складским учетом и планированием загрузки.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Заказ-наряды**: Создание и ведение полной истории ремонтов по каждому автомобилю.",
      "**Склад запчастей**: Учет наличия, автоматический заказ у поставщиков и подбор аналогов.",
      "**Планирование загрузки постов**: Календарь записи и распределение задач между мастерами.",
      "**Нормо-часы**: Расчет стоимости работ на основе каталогов нормативов времени.",
      "**Уведомления клиентов**: Автоматические SMS/Telegram сообщения о статусе ремонта."
    ],
    benefits: "Оптимизация загрузки мастеров на 40%, рост выручки от продажи запчастей на 25%",
    icon: "Car"
  },
  {
    number: 241,
    name: "Управление стоматологией",
    description: "Специализированная система для стоматологических клиник с зубной формулой и планами лечения.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Интерактивная зубная формула**: Визуальное отображение состояния каждого зуба и истории лечения.",
      "**Планы лечения**: Составление комплексных планов с этапами, стоимостью и графиком визитов.",
      "**Хранение снимков**: Интеграция с рентгеновским оборудованием и хранение снимков в карте пациента.",
      "**Зуботехническая лаборатория**: Управление заказами и отслеживание их готовности.",
      "**Автоматические напоминания**: Напоминания о плановых осмотрах и гигиене."
    ],
    benefits: "Увеличение завершенности планов лечения на 60%, рост LTV пациента на 50%",
    icon: "Tooth"
  },
  {
    number: 242,
    name: "Управление юридической фирмой",
    description: "Система для юридических услуг с учетом дел, тайм-биллингом и управлением документами.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Учет дел (Matter Management)**: Картотека клиентов и судебных дел с полной хронологией.",
      "**Тайм-биллинг**: Почасовой учет работы юристов по каждому делу с автоматическим выставлением счетов.",
      "**Генератор документов**: Создание исков, договоров и доверенностей по готовым шаблонам.",
      "**Судебный календарь**: Отслеживание заседаний, сроков подачи документов и других важных дат.",
      "**Проверка на конфликт интересов**: Автоматический анализ базы для выявления потенциальных конфликтов."
    ],
    benefits: "Увеличение оплачиваемых часов на 30%, сокращение времени на подготовку документов на 70%",
    icon: "Scale"
  },
  {
    number: 243,
    name: "Управление логистической компанией",
    description: "Система для транспортных и логистических компаний с оптимизацией маршрутов и трекингом.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Оптимизация маршрутов**: AI-построение наиболее эффективных маршрутов для курьеров и транспорта.",
      "**GPS-трекинг**: Отслеживание перемещения транспорта и грузов в реальном времени.",
      "**Управление автопарком**: Контроль ТО, расхода топлива и состояния транспортных средств.",
      "**Складская логистика (WMS)**: Адресное хранение, управление приемкой и отгрузкой.",
      "**Расчет стоимости перевозок**: Автоматический калькулятор на основе веса, объема и маршрута."
    ],
    benefits: "Снижение логистических затрат на 25%, ускорение доставки на 15%",
    icon: "Truck"
  },
  {
    number: 244,
    name: "Управление образовательным центром",
    description: "Платформа для учебных заведений с расписанием, учетом успеваемости и доступом для родителей.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Расписание занятий**: Управление группами, преподавателями, аудиториями и онлайн-уроками.",
      "**Электронный журнал и дневник**: Учет посещаемости и успеваемости с доступом для учеников и родителей.",
      "**Управление платежами**: Контроль оплаты за обучение и автоматические напоминания о задолженности.",
      "**Библиотека учебных материалов**: Централизованное хранилище методических пособий и домашних заданий.",
      "**Коммуникационный портал**: Встроенный чат для общения между администрацией, учителями и родителями."
    ],
    benefits: "Повышение собираемости платежей на 20%, экономия времени администрации на 60%",
    icon: "School"
  },
  {
    number: 245,
    name: "Платформа для агентств недвижимости",
    description: "CRM для риэлторов с каталогом объектов, воронкой сделок и выгрузкой на классифайды.",
    category: "ОТРАСЛЕВЫЕ РЕШЕНИЯ",
    keyFeatures: [
      "**Управление объектами**: Единая база квартир, домов и коммерческих помещений с фото и документами.",
      "**Воронка сделок**: Визуальное отслеживание всех этапов работы с клиентом от звонка до договора.",
      "**Автоматическая выгрузка**: Синхронизация и публикация объявлений на Avito, Cian, Domclick.",
      "**Подборки для клиентов**: Создание и отправка персонализированных подборок объектов через Telegram.",
      "**Ипотечный калькулятор**: Встроенный инструмент для расчета ежемесячных платежей."
    ],
    benefits: "Ускорение цикла сделки на 30%, увеличение конверсии лидов в показы на 50%",
    icon: "Building"
  },
  {
    number: 246,
    name: "Система рекрутинга (ATS)",
    description: "Платформа для управления наймом: публикация вакансий, воронка кандидатов и планирование интервью.",
    category: "B2B",
    keyFeatures: [
      "**Единая база кандидатов**: Автоматический сбор резюме с hh.ru, LinkedIn и других источников.",
      "**Воронка найма**: Настраиваемые этапы отбора от нового отклика до оффера.",
      "**Интеграция с календарями**: Планирование собеседований с автоматической отправкой приглашений.",
      "**Совместная работа**: Обсуждение кандидатов и выставление оценок внутри команды найма.",
      "**Аналитика рекрутинга**: Отчеты по эффективности источников и скорости закрытия вакансий."
    ],
    benefits: "Сокращение времени на закрытие вакансии на 50%, улучшение качества найма на 30%",
    icon: "UserSearch"
  },
  {
    number: 247,
    name: "Система управления складом (WMS)",
    description: "Профессиональное решение для автоматизации складских операций: приемка, размещение, сборка.",
    category: "E-COMMERCE",
    keyFeatures: [
      "**Адресное хранение**: Оптимальное размещение товаров на складе с использованием ячеек.",
      "**Терминалы сбора данных (ТСД)**: Мобильный интерфейс для кладовщиков для сборки заказов по штрихкодам.",
      "**Управление приемкой и отгрузкой**: Автоматизация процессов сверки и размещения товаров.",
      "**Инвентаризация без остановки**: Проведение ревизий с минимальным влиянием на работу склада.",
      "**Контроль остатков в реальном времени**: Точное отображение наличия товаров по всем ячейкам."
    ],
    benefits: "Увеличение скорости сборки заказов на 200%, снижение ошибок комплектации до 99.5%",
    icon: "Warehouse"
  },
  {
    number: 248,
    name: "Тикет-система поддержки клиентов",
    description: "Профессиональная система для обработки обращений, не решаемых AI-ботом.",
    category: "ДОПОЛНИТЕЛЬНЫЕ СЕРВИСЫ",
    keyFeatures: [
      "**Омниканальность**: Сбор обращений из Telegram, email, форм на сайте в единую очередь.",
      "**Управление SLA**: Контроль времени ответа и решения по каждому обращению.",
      "**База знаний для операторов**: Быстрый доступ к готовым ответам и инструкциям.",
      "**Автоматическая маршрутизация**: Распределение тикетов по ответственным отделам или специалистам.",
      "**Отчеты по эффективности**: Аналитика по скорости реакции, качеству поддержки и нагрузке на операторов."
    ],
    benefits: "Увеличение скорости решения сложных запросов на 60%, рост удовлетворенности клиентов (CSAT) на 25%",
    icon: "Ticket"
  },
  {
    number: 250,
    name: "Система выставления счетов (Invoicing)",
    description: "Автоматизация создания и отправки счетов, актов и контроль их оплаты.",
    category: "ФИНТЕХ",
    keyFeatures: [
      "**Брендированные шаблоны**: Создание профессиональных счетов с вашим логотипом и реквизитами.",
      "**Рекуррентные счета**: Автоматическое выставление счетов для подписных моделей и постоянных услуг.",
      "**Онлайн-оплата счета**: Встроенная кнопка для быстрой оплаты картой, СБП или другими способами.",
      "**Трекинг статусов**: Отслеживание статуса счета (отправлен, просмотрен, оплачен, просрочен).",
      "**Интеграция с банками**: Автоматическая сверка поступлений на счет с выставленными счетами."
    ],
    benefits: "Ускорение получения оплаты на 40%, сокращение времени на выставление счетов на 80%",
    icon: "FileText"
  }
];

async function addMissingModules() {
  try {
    console.log('🔄 Добавление недостающих модулей...');
    
    for (const moduleData of newModules) {
      await db.insert(modules).values(moduleData).onConflictDoNothing();
      console.log(`✅ Модуль ${moduleData.number}: ${moduleData.name}`);
    }
    
    console.log('🎉 Все недостающие модули добавлены!');
    process.exit(0);
  } catch (error) {
    console.error('❌ Ошибка при добавлении модулей:', error);
    process.exit(1);
  }
}

addMissingModules();